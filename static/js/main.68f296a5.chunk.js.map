{"version":3,"sources":["components/TodoList/TodoList.jsx","api.js","components/CurrentUser/CurrentUser.jsx","App.jsx","index.js"],"names":["TodoList","state","query","filter","handleChange","event","target","name","value","setState","filterTodos","todos","todo","completed","title","includes","this","props","onSelectedUser","filteredTodos","className","type","onChange","map","key","id","classNames","readOnly","checked","onClick","userId","React","Component","defaultProps","request","url","a","fetch","response","ok","Error","json","body","data","CurrentUser","user","getUser","prevprops","onClearUser","email","phone","App","selectedUserId","setUserId","clearUser","allTodos","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.68f296a5.chunk.js","sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport './TodoList.scss';\n\nexport class TodoList extends React.Component {\n  state = {\n    query: '',\n    filter: '',\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  filterTodos = (todos) => {\n    const { query, filter } = this.state;\n\n    switch(filter) {\n      case 'completed':\n        return todos.filter(todo =>\n          todo.completed && todo.title.includes(query));\n      case 'active':\n        return todos.filter(todo =>\n          !todo.completed && todo.title.includes(query));\n      default:\n        return todos.filter(todo => todo.title.includes(query));\n    }\n  }\n\n  render() {\n    const { onSelectedUser, todos } = this.props;\n    const filteredTodos = this.filterTodos(todos);\n\n    return (\n      <div className=\"TodoList\">\n        <input\n          type=\"text\"\n          className=\"input\"\n          name=\"query\"\n          value={this.state.query}\n          onChange={this.handleChange}\n        />\n        <select\n          name=\"filter\"\n          className=\"select\"\n          value={this.state.filter}\n          onChange={this.handleChange}\n        >\n          <option value=\"all\">\n            all\n          </option>\n          <option value=\"active\">\n            active\n          </option>\n          <option value=\"completed\">\n            completed\n          </option>\n        </select>\n        <h2>Todos:</h2>\n        <div className=\"TodoList__list-container\">\n          <ul className=\"TodoList__list\">\n            {\n              filteredTodos.map(todo => (\n                <li\n                  key={todo.id}\n                  className={classNames(\n                    'TodoList__item',\n                    { 'TodoList__item--checked': todo.completed },\n                    { 'TodoList__item--unchecked': !todo.completed },\n                  )}\n                >\n                  <label>\n                    <input\n                      type=\"checkbox\"\n                      readOnly\n                      checked={todo.completed}\n                    />\n                    <p>{todo.title}</p>\n                  </label>\n                  <button\n                    className=\"\n                      TodoList__user-button\n                      TodoList__user-button--selected\n                      button\n                    \"\n                    type=\"button\"\n                    onClick={() => onSelectedUser(todo.userId)}\n                  >\n                    User&nbsp;#\n                    {todo.userId}\n                  </button>\n                </li>\n              ))\n            }\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nTodoList.defaultProps = {\n  todos: [],\n};\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n      completed: PropTypes.bool.isRequired,\n    }),\n  ),\n  onSelectedUser: PropTypes.func.isRequired,\n};\n","const BASE_URL = 'https://mate-api.herokuapp.com/';\n\nexport const request = async(url) => {\n  const response = await fetch(`${BASE_URL}${url}`);\n\n  if (!response.ok) {\n    throw new Error(`Failed to load data ${url}`);\n  }\n\n  const body = await response.json();\n\n  return body.data || body;\n};\n","import React from 'react';\nimport './CurrentUser.scss';\nimport PropTypes from 'prop-types';\nimport { request } from '../../api';\n\nexport class CurrentUser extends React.Component {\n  state = {\n    user: {},\n  }\n\n  componentDidMount() {\n    this.getUser();\n  }\n\n  componentDidUpdate(prevprops) {\n    if (prevprops.userId !== this.props.userId) {\n      this.getUser();\n    }\n  }\n\n  async getUser() {\n    const user = await request(`users/${this.props.userId}`);\n\n    this.setState({\n      user,\n    });\n  }\n\n  render() {\n    const { userId, onClearUser } = this.props;\n    const { user } = this.state;\n\n    return (\n      <div className=\"CurrentUser\">\n        <h2 className=\"CurrentUser__title\">\n          <span>\n            Selected user:\n            {' '}\n            {userId}\n          </span>\n        </h2>\n        <h3 className=\"CurrentUser__name\">\n          {user.name}\n        </h3>\n        <p className=\"CurrentUser__email\">\n          {user.email}\n        </p>\n        <p className=\"CurrentUser__phone\">\n          {user.phone}\n        </p>\n        <button\n          type=\"button\"\n          onClick={onClearUser}\n          className=\"button button--resset\"\n        >\n          Clear\n        </button>\n      </div>\n    );\n  }\n}\n\nCurrentUser.propTypes = {\n  userId: PropTypes.number.isRequired,\n  onClearUser: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\n\nimport { request } from './api';\n\nclass App extends React.Component {\n  state = {\n    todos: [],\n    selectedUserId: 0,\n  };\n\n  async componentDidMount() {\n    const allTodos = await request('todos');\n    const filteredTodos = allTodos.filter(todo => todo.title);\n\n    this.setState({\n      todos: filteredTodos,\n    });\n  }\n\n  setUserId = (id) => {\n    this.setState({\n      selectedUserId: id,\n    });\n  }\n\n  clearUser = () => {\n    this.setState({\n      selectedUserId: 0,\n    });\n  }\n\n  render() {\n    const { todos, selectedUserId } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList todos={todos} onSelectedUser={this.setUserId} />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {\n              selectedUserId\n                ? (\n                  <CurrentUser\n                    userId={selectedUserId}\n                    onClearUser={this.clearUser}\n                  />\n                )\n                : 'No user selected'\n            }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}